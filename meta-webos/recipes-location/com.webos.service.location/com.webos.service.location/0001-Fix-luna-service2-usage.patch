From 8c094e1bd1d6fce70a0d6f8d2bd7e08333c46cf0 Mon Sep 17 00:00:00 2001
From: Martin Jansa <martin2.jansa@lgepartner.com>
Date: Mon, 20 Mar 2023 16:28:34 +0000
Subject: [PATCH] Fix luna-service2 usage

:Release Notes:
Since luna-service2 submission 143 from September 2012 ls2 headers
should be included from luna-service2 directory.

:Detailed Notes:
Fixes:
http://gecko.lge.com:8000/Errors/Details/548218

FAILED: CMakeFiles/location.dir/src/lunaIpc/LunaLocationServiceUtil.cpp.o
TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot-native/usr/bin/arm-webos-linux-gnueabi/arm-webos-linux-gnueabi-g++ -DUSE_PMLOG_DECLARATION -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/git/include -mthumb -mfpu=neon-vfpv4 -mfloat-abi=hard -mcpu=cortex-a7 -fstack-protector-strong  -O2 -D_FORTIFY_SOURCE=2  -Werror=return-type  --sysroot=TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot  -O2 -pipe -g -feliminate-unused-debug-types -fmacro-prefix-map=TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2=/usr/src/debug/com.webos.service.location/1.0.0-98-r2                      -fdebug-prefix-map=TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2=/usr/src/debug/com.webos.service.location/1.0.0-98-r2                      -fdebug-prefix-map=TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot=                      -fdebug-prefix-map=TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot-native=  -fvisibility-inlines-hidden  -Wall -std=c++11 -DNDEBUG   -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -pthread -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/libmount -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/blkid -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -pthread -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/json-c -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/glib-2.0 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/lib/glib-2.0/include -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/libxml2 -ITOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/recipe-sysroot/usr/include/loc-utils -MD -MT CMakeFiles/location.dir/src/lunaIpc/LunaLocationServiceUtil.cpp.o -MF CMakeFiles/location.dir/src/lunaIpc/LunaLocationServiceUtil.cpp.o.d -o CMakeFiles/location.dir/src/lunaIpc/LunaLocationServiceUtil.cpp.o -c TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/git/src/lunaIpc/LunaLocationServiceUtil.cpp
In file included from TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/git/src/lunaIpc/LunaLocationServiceUtil.cpp:18:
TOPDIR/BUILD/work/raspberrypi4-webos-linux-gnueabi/com.webos.service.location/1.0.0-98-r2/git/include/LunaLocationServiceUtil.h:21:10: fatal error: lunaservice.h: No such file or directory
   21 | #include <lunaservice.h>
      |          ^~~~~~~~~~~~~~~
compilation terminated.

:Testing Performed:
Only build tested.

:QA Notes:
No change to image.

:Issues Addressed:
[WRP-10642] Remove the temporary work around from 2012 from luna-service2 recipe
[WRP-11226] com.webos.service.location: Fix luna-service2 usage
[WRP-10791] CCC: Various build fixes

Change-Id: I9c0b1cf2f797d48babce8e27ba7ffe23396f4fc3
---
Upstream-Status: Submitted [http://gpro.lge.com/c/webosose/com.webos.service.location/+/348157 Fix luna-service2 usage]

 include/ConnectionStateObserver.h | 2 +-
 include/LifeCycleMonitor.h        | 2 +-
 include/LocationService.h         | 2 +-
 include/LunaLocationServiceUtil.h | 2 +-
 include/MapServicesInterface.h    | 2 +-
 include/NetworkData.h             | 2 +-
 include/NetworkPositionProvider.h | 2 +-
 include/NetworkRequestManager.h   | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

diff --git a/include/ConnectionStateObserver.h b/include/ConnectionStateObserver.h
index 10d37bc..89eb3c9 100644
--- a/include/ConnectionStateObserver.h
+++ b/include/ConnectionStateObserver.h
@@ -18,7 +18,7 @@
 #define _LOCATION_SERVICE_STATE_H_
 
 
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include <set>
 #include "IConnectivityListener.h"
 
diff --git a/include/LifeCycleMonitor.h b/include/LifeCycleMonitor.h
index 4c59456..8bdb436 100644
--- a/include/LifeCycleMonitor.h
+++ b/include/LifeCycleMonitor.h
@@ -19,7 +19,7 @@
 #define _LIFECYCLEMONITOR_H_
 
 #include <glib.h>
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 
 
 class LifeCycleMonitor {
diff --git a/include/LocationService.h b/include/LocationService.h
index 0730112..109433a 100644
--- a/include/LocationService.h
+++ b/include/LocationService.h
@@ -20,7 +20,7 @@
 
 #include <glib.h>
 #include <gio/gio.h>
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include <ServiceAgent.h>
 #include <IConnectivityListener.h>
 #include <ILocationCallbacks.h>
diff --git a/include/LunaLocationServiceUtil.h b/include/LunaLocationServiceUtil.h
index bc279a8..600c2de 100644
--- a/include/LunaLocationServiceUtil.h
+++ b/include/LunaLocationServiceUtil.h
@@ -18,7 +18,7 @@
 #ifndef _LUNA_LOCATION_SERVICE_UTIL_H_
 #define _LUNA_LOCATION_SERVICE_UTIL_H_
 
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include "JsonUtility.h"
 // temproray so keeping hardcoded value
 
diff --git a/include/MapServicesInterface.h b/include/MapServicesInterface.h
index 91ec826..6e5eacf 100644
--- a/include/MapServicesInterface.h
+++ b/include/MapServicesInterface.h
@@ -23,7 +23,7 @@
 #include <GeoLocation.h>
 #include <GeoAddress.h>
 #include <location_errors.h>
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include <loc_log.h>
 #include <functional>
 
diff --git a/include/NetworkData.h b/include/NetworkData.h
index 65298b9..f1e679d 100644
--- a/include/NetworkData.h
+++ b/include/NetworkData.h
@@ -18,7 +18,7 @@
 #ifndef NETWORKDATA_H_
 #define NETWORKDATA_H_
 
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include <glib.h>
 #include <loc_log.h>
 
diff --git a/include/NetworkPositionProvider.h b/include/NetworkPositionProvider.h
index 71e5ff1..217f1cb 100644
--- a/include/NetworkPositionProvider.h
+++ b/include/NetworkPositionProvider.h
@@ -27,7 +27,7 @@
 #include <loc_http.h>
 #include <loc_log.h>
 #include <pbnjson.h>
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 #include <NetworkData.h>
 #include <HttpInterface.h>
 #include <NetworkRequestManager.h>
diff --git a/include/NetworkRequestManager.h b/include/NetworkRequestManager.h
index eaeb412..612b399 100644
--- a/include/NetworkRequestManager.h
+++ b/include/NetworkRequestManager.h
@@ -26,7 +26,7 @@
 #include <HttpInterface.h>
 #include <NetworkRequestManagerDefines.h>
 #include <location_errors.h>
-#include <lunaservice.h>
+#include <luna-service2/lunaservice.h>
 
 
 class NetworkRequestManager {
